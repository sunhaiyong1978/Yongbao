From d689e1e8ff43268be4632a4697483048e84dc93e Mon Sep 17 00:00:00 2001
From: Sun Haiyong <sunhaiyong@zdbr.net>
Date: Wed, 23 Jul 2025 06:25:44 +0000
Subject: [PATCH] openh264 2.6.0 add mips64el support.

---
 codec/common/meson.build     | 2 ++
 codec/decoder/meson.build    | 2 ++
 codec/encoder/meson.build    | 2 ++
 codec/processing/meson.build | 2 ++
 meson.build                  | 3 +++
 5 files changed, 11 insertions(+)

diff --git a/codec/common/meson.build b/codec/common/meson.build
index 963da74..210732c 100644
--- a/codec/common/meson.build
+++ b/codec/common/meson.build
@@ -75,6 +75,8 @@ elif cpu_family == 'ppc'
   asm_sources = []
 elif cpu_family == 'ppc64'
   asm_sources = []
+elif cpu_family == 'mips64el'
+  asm_sources = []
 else
   error('Unsupported cpu_family @0@'.format(cpu_family))
 endif
diff --git a/codec/decoder/meson.build b/codec/decoder/meson.build
index 23352ff..bd1f782 100644
--- a/codec/decoder/meson.build
+++ b/codec/decoder/meson.build
@@ -60,6 +60,8 @@ elif cpu_family == 'ppc'
   asm_sources = []
 elif cpu_family == 'ppc64'
   asm_sources = []
+elif cpu_family == 'mips64el'
+  asm_sources = []
 else
   error('Unsupported cpu family @0@'.format(cpu_family))
 endif
diff --git a/codec/encoder/meson.build b/codec/encoder/meson.build
index bebb74c..2929288 100644
--- a/codec/encoder/meson.build
+++ b/codec/encoder/meson.build
@@ -89,6 +89,8 @@ elif cpu_family == 'ppc'
   asm_sources = []
 elif cpu_family == 'ppc64'
   asm_sources = []
+elif cpu_family == 'mips64el'
+  asm_sources = []
 else
   error('Unsupported cpu family @0@'.format(cpu_family))
 endif
diff --git a/codec/processing/meson.build b/codec/processing/meson.build
index 1c56eb5..0bd17f5 100644
--- a/codec/processing/meson.build
+++ b/codec/processing/meson.build
@@ -62,6 +62,8 @@ elif cpu_family == 'ppc'
   asm_sources = []
 elif cpu_family == 'ppc64'
   asm_sources = []
+elif cpu_family == 'mips64el'
+  asm_sources = []
 else
   error('Unsupported cpu family @0@'.format(cpu_family))
 endif
diff --git a/meson.build b/meson.build
index 6e8b585..289b5b0 100644
--- a/meson.build
+++ b/meson.build
@@ -105,6 +105,9 @@ if ['linux', 'android', 'ios', 'darwin'].contains(system)
   elif cpu_family == 'ppc64'
     # We don't have powerpc64-specific optimization for now.
     asm_format = asm_format64
+  elif cpu_family == 'mips64el'
+    # We don't have mips64el-specific optimization for now.
+    asm_format = asm_format64
   else
     error('FIXME: unhandled CPU family @0@ for @1@'.format(cpu_family, system))
   endif
-- 
2.31.1

